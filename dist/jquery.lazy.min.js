!function(a){a.fn.extend({lazy:function(){var b=this,c=a(window),d={selector:b.selector,getTargets:function(){return a(d.selector)},prepareTargets:function(){var b,c=this.getTargets(),e=c.length;return c.each(function(c){var f=a(this),g=f.css("display");f.attr("data-src",function(){return a(this).attr("src")}),f.removeAttr("src"),"inline"==g&&(g="inline-block"),f.css("opacity",0),$div=a("<div></div>").width(f.width()).height(f.height()).css("display",g).css("background",'url("http://www.labosante.com/components/ajaxWishList/images/loading.gif") no-repeat center center'),f.clone().appendTo($div),f.replaceWith($div),c==e-1&&(b=d.getTargets())}),b},init:function(){var b=d.prepareTargets();c.on("load.lazy",function(){b.on("load.lazy",function(){var b=a(this);b.animate({opacity:1},"fast","linear",function(){b.off(".lazy")})}),b.on("scrolledTo.lazy",function(){var b=a(this);b.attr("src",function(){return b.data("src")})}),d.update(b)}).on("scroll.lazy resize.lazy",function(){d.update()})},update:function(b){b=b||d.getTargets(),b.length?b.each(function(){var b=a(this);b.offset().top-c.height()<=window.pageYOffset&&b.trigger("scrolledTo.lazy")}):c.off(".lazy")}};d.init()}})}(jQuery);